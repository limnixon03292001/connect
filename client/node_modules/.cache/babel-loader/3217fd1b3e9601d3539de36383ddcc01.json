{"ast":null,"code":"import _objectSpread from\"C:/Users/Lim/Desktop/Clone/login-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect}from'react';import CancelIcon from\"../../svg/cancel2.svg\";import loadingCat from\"../../svg/loadingCat.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CreatePostModal=function CreatePostModal(_ref){var setModalOpen=_ref.setModalOpen,postData=_ref.postData,setpostData=_ref.setpostData,handleSubmit=_ref.handleSubmit,post=_ref.post,handleBlob=_ref.handleBlob,setBlob=_ref.setBlob,blob=_ref.blob,formx=_ref.formx;document.addEventListener('click',function(e){if(e.target.id==='modal'){setModalOpen(false);}});useEffect(function(){return function(){setBlob('');setpostData(_objectSpread(_objectSpread({},postData),{},{description:''}));};},[setBlob,setpostData]);var resetBlob=function resetBlob(){setBlob('');formx.current.reset();};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 w-full h-full bg-black bg-opacity-25 flex justify-center items-center\",id:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-primary w-full md:w-2/4 max-w-screen-md m-3 h-auto shadow-md border border-borderColor rounded-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 flex justify-between items-center border-b border-borderColor tracking-wide font-light\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 text-lg\",children:\"Create Post\"}),!post.newPostLoading&&/*#__PURE__*/_jsx(\"button\",{className:\"hover:bg-white hover:bg-opacity-10 active:bg-white active:bg-opacity-25 rounded-full  p-2 transition ease-in duration-75\",onClick:function onClick(){return setModalOpen(function(prev){return!prev;});},children:/*#__PURE__*/_jsx(\"img\",{src:CancelIcon,alt:\"\",className:\"h-4 w-4\"})})]}),post.newPostLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-md text-white flex flex-col justify-center items-center gap-1 p-5\",children:[/*#__PURE__*/_jsx(\"img\",{src:loadingCat,alt:loadingCat,className:\"w-14 h-14\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Posting...\"})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,ref:formx,children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Create Post...\",cols:\"30\",rows:\"3\",className:\"w-full h-32 bg-primary p-3 focus:outline-none inset-0 m-0 rounded-t-md resize-none relative align-top overflow-auto\",name:\"description\",value:postData.description,onChange:function onChange(e){return setpostData(_objectSpread(_objectSpread({},postData),{},{description:e.target.value}));}}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 bg-primary p-3 rounded-b-md\",children:[blob&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-52 overflow-auto\",children:[/*#__PURE__*/_jsx(\"img\",{src:blob,alt:blob,className:\"rounded-md object-cover object-center h-full w-full max-h-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-600 bg-opacity-30 hover:bg-gray-500 hover:bg-opacity-30 active:bg-white active:bg-opacity-25 rounded-full p-2 transition ease-in duration-75 absolute top-0 right-0 m-2 cursor-pointer\",children:[\"  \",/*#__PURE__*/_jsx(\"img\",{src:CancelIcon,alt:\"\",className:\"w-4 h-4 rounded-md \",onClick:resetBlob}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs md:text-sm \",children:\"Upload Picture:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs md:text-sm relative overflow-hidden\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",onChange:handleBlob})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-button2 active:bg-white active:bg-opacity-25 rounded-md py-1 px-2 transition ease-in duration-75 text-sm md:text-lg w-full\",children:\"Post\"})})]})]})})]})});};export default CreatePostModal;","map":{"version":3,"sources":["C:/Users/Lim/Desktop/Clone/login-mern/client/src/components/layout/CreatePostModal.js"],"names":["React","useEffect","CreatePostModal","setModalOpen","postData","setpostData","handleSubmit","post","handleBlob","setBlob","blob","formx","document","addEventListener","e","target","id","description","resetBlob","current","reset","newPostLoading","prev","CancelIcon","loadingCat","value"],"mappings":"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","sourcesContent":["import React,{useEffect} from 'react'\r\n\r\nimport CancelIcon from '../../svg/cancel2.svg';\r\nimport loadingCat from '../../svg/loadingCat.svg';\r\n\r\nconst CreatePostModal = ({setModalOpen, postData, setpostData, handleSubmit, post, handleBlob, setBlob, blob, formx}) => {\r\n\r\n    document.addEventListener('click', (e) => {\r\n        if(e.target.id === 'modal'){\r\n            setModalOpen(false);\r\n        }\r\n    });\r\n\r\n    useEffect(()=>{\r\n        return () => {\r\n            setBlob('');\r\n            setpostData({...postData, description: '' })\r\n        }\r\n    },[setBlob,setpostData])\r\n    const resetBlob = () => {\r\n        setBlob('');\r\n        formx.current.reset();\r\n    }\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 w-full h-full bg-black bg-opacity-25 flex justify-center items-center\" id=\"modal\">\r\n            <div className=\"bg-primary w-full md:w-2/4 max-w-screen-md m-3 h-auto shadow-md border border-borderColor rounded-md\">\r\n                <div className=\"p-2 flex justify-between items-center border-b border-borderColor tracking-wide font-light\">\r\n                    <div className=\"p-2 text-lg\">Create Post</div>\r\n                    {!post.newPostLoading && \r\n                    <button className=\"hover:bg-white hover:bg-opacity-10 active:bg-white active:bg-opacity-25 rounded-full  p-2 transition ease-in duration-75\" onClick={() => setModalOpen(prev => !prev)}><img src={CancelIcon} alt=\"\" className=\"h-4 w-4\" /></button>}\r\n                </div>\r\n                    {post.newPostLoading  ? <div className=\"text-md text-white flex flex-col justify-center items-center gap-1 p-5\"><img src={loadingCat} alt={loadingCat} className=\"w-14 h-14\"/> <span>Posting...</span></div> :\r\n                    <>\r\n                    <form onSubmit={handleSubmit} ref={formx}>\r\n                        <textarea placeholder=\"Create Post...\"  cols=\"30\" rows=\"3\" className=\"w-full h-32 bg-primary p-3 focus:outline-none inset-0 m-0 rounded-t-md resize-none relative align-top overflow-auto\" name=\"description\" value={postData.description} onChange={(e) => setpostData({...postData, description: e.target.value })} ></textarea>\r\n\r\n                        <div className=\"space-y-3 bg-primary p-3 rounded-b-md\">\r\n                            {/* if theres an image go here */}\r\n                            {blob && <div className=\"relative h-52 overflow-auto\">\r\n                            <img src={blob} alt={blob} className=\"rounded-md object-cover object-center h-full w-full max-h-full\"/>\r\n                            <div className=\"bg-gray-600 bg-opacity-30 hover:bg-gray-500 hover:bg-opacity-30 active:bg-white active:bg-opacity-25 rounded-full p-2 transition ease-in duration-75 absolute top-0 right-0 m-2 cursor-pointer\">  <img src={CancelIcon} alt=\"\" className=\"w-4 h-4 rounded-md \" onClick={resetBlob}/> </div>\r\n                            </div>}\r\n                        \r\n                            <div className=\"flex items-center gap-3\">\r\n                                <p className=\"text-xs md:text-sm \">Upload Picture:</p> \r\n                                    <div className=\"text-xs md:text-sm relative overflow-hidden\">\r\n                                        <input type=\"file\" name=\"image\" onChange={handleBlob}/>\r\n                                    </div>\r\n                            </div>\r\n                        {/* button */}\r\n                            <div>\r\n                            <button className=\"bg-button2 active:bg-white active:bg-opacity-25 rounded-md py-1 px-2 transition ease-in duration-75 text-sm md:text-lg w-full\">Post</button>   \r\n                            </div>\r\n                        </div> \r\n                    </form>\r\n                    </>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePostModal\r\n"]},"metadata":{},"sourceType":"module"}