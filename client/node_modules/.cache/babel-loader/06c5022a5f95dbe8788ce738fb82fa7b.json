{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lim\\\\Desktop\\\\Clone\\\\login-mern\\\\client\\\\src\\\\components\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Loading from '../layout/Loading';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { signUp, signIn } from '../../redux/actions/auth'; // import GoogleSvg from '../layout/GoogleSvg';\n// import { GoogleLogin } from 'react-google-login';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  firstname: '',\n  lastname: '',\n  email: '',\n  confirmPassword: '',\n  password: '',\n  imageUrl: ''\n};\n\nconst Login = () => {\n  _s();\n\n  var _authData$error, _authData$error2, _authData$error3, _authData$error4, _authData$error5, _authData$error6, _authData$error7, _authData$error8, _authData$error9, _authData$error10, _authData$error11, _authData$error12;\n\n  const [isSignup, setisSignup] = useState(false);\n  const [userData, setuserData] = useState(initialState);\n  const [blob, setBlob] = useState('');\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const authData = useSelector(state => state.auth); //Checks if the user is authenticated, then if its true redirect to homepage\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      history.push('/');\n    }\n  }, [history]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const myForm = e.target;\n    const formData = new FormData(myForm);\n\n    if (isSignup) {\n      if (userData.password !== userData.confirmPassword) {\n        return dispatch({\n          type: 'ERROR',\n          payload: {\n            password: \"Password and Confirm Password doesn't match!\"\n          }\n        });\n      }\n\n      dispatch(signUp(formData, setisSignup, clear));\n    } else {\n      dispatch(signIn(formData, history));\n    }\n  };\n\n  const handleBlob = e => {\n    setBlob(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const handleChange = e => {\n    setuserData({ ...userData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const setSignUp = () => {\n    setisSignup(prev => !prev);\n    clear();\n    dispatch({\n      type: 'CLEAR_ERROR'\n    });\n  };\n\n  const clear = () => {\n    setuserData({\n      firstname: '',\n      lastname: '',\n      email: '',\n      confirmPassword: '',\n      password: '',\n      imageUrl: ''\n    });\n  }; // Google Auth \n  // const googleSuccess = async (res) => {\n  //     const profile = res?.profileObj;\n  //     const token = res?.tokenId;\n  //     try{\n  //         dispatch({type: 'LOGIN', payload: {profile, token}});\n  //         history.push('/');\n  //     }catch(error){\n  //         console.log(error);\n  //     }\n  // }\n  // const googleFailure = async (error) => {\n  //     console.log(error);\n  //     console.log('Google Sign in failed.')\n  // } // Google Auth \n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed m-4 z-40 text-sm text-gray-300 text-center bottom-0 right-0 underline\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://www.facebook.com/limnixon03292001/\",\n        children: \"Developed By: Nixon A. Lim\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 w-full max-w-full min-h-screen flex justify-center items-center border-red-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `bg-white tracking-wide bg-opacity-13 px-8 py-9 rounded shadow md:w-96 h-auto space-y-10 m-2 ${isSignup && `md:w-1/2 lg:w-2/5 `}`,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl text-gray-600 text-center w-full\",\n          children: [isSignup ? blob === '' ? 'Sign Up' : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: blob,\n            alt: blob,\n            className: \"rounded-full block w-24 h-24 m-auto object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 117\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs\",\n              children: \"Welcome to\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-3xl\",\n              children: \"Connect!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 82\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: `space-y-5 ${isSignup && `sm:space-y-2`}`,\n          onSubmit: handleSubmit,\n          children: [isSignup && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-gray-600 text-xs md:text-sm\",\n                children: \"Firstname\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 37\n              }, this), ((_authData$error = authData.error) === null || _authData$error === void 0 ? void 0 : _authData$error.firstname) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-400 text-xs\",\n                children: (_authData$error2 = authData.error) === null || _authData$error2 === void 0 ? void 0 : _authData$error2.firstname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 67\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"firstname\",\n                placeholder: \"FirstName\",\n                className: \"w-full border border-gray-200 p-2 rounded mt-2 outline-none focus:border-blue-500\",\n                onChange: handleChange,\n                value: userData.firstname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-gray-600 text-xs md:text-sm\",\n                children: \"Lastname\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 37\n              }, this), ((_authData$error3 = authData.error) === null || _authData$error3 === void 0 ? void 0 : _authData$error3.lastname) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-400 text-xs\",\n                children: (_authData$error4 = authData.error) === null || _authData$error4 === void 0 ? void 0 : _authData$error4.lastname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 66\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"lastname\",\n                placeholder: \"LastName\",\n                className: \"w-full border border-gray-200 p-2 rounded mt-2 outline-none focus:border-blue-500\",\n                onChange: handleChange,\n                value: userData.lastname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 40\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-600 text-xs md:text-sm\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), ((_authData$error5 = authData.error) === null || _authData$error5 === void 0 ? void 0 : _authData$error5.email) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-400 text-xs\",\n              children: (_authData$error6 = authData.error) === null || _authData$error6 === void 0 ? void 0 : _authData$error6.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 55\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"email\",\n              placeholder: \"Email\",\n              className: \"w-full border border-gray-200 p-2 rounded mt-2 outline-none focus:border-blue-500\",\n              onChange: handleChange,\n              value: userData.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-600 text-xs md:text-sm\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this), ((_authData$error7 = authData.error) === null || _authData$error7 === void 0 ? void 0 : _authData$error7.password) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-400 text-xs\",\n              children: (_authData$error8 = authData.error) === null || _authData$error8 === void 0 ? void 0 : _authData$error8.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 58\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              placeholder: \"Password\",\n              className: \"w-full border border-gray-200 p-2 rounded mt-2 outline-none focus:border-blue-500\",\n              onChange: handleChange,\n              value: userData.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), isSignup && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-600 text-xs md:text-sm\",\n              children: \"Confirm Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this), ((_authData$error9 = authData.error) === null || _authData$error9 === void 0 ? void 0 : _authData$error9.confirmPassword) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-400 text-xs\",\n              children: (_authData$error10 = authData.error) === null || _authData$error10 === void 0 ? void 0 : _authData$error10.confirmPassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 65\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"confirmPassword\",\n              placeholder: \"Confirm Password\",\n              className: \"w-full border border-gray-200 p-2 rounded mt-2 outline-none focus:border-blue-500\",\n              onChange: handleChange,\n              value: userData.confirmPassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [((_authData$error11 = authData.error) === null || _authData$error11 === void 0 ? void 0 : _authData$error11.imageUrl) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-400 text-xs\",\n                children: (_authData$error12 = authData.error) === null || _authData$error12 === void 0 ? void 0 : _authData$error12.imageUrl\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 58\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center md:gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-gray-600 text-xs md:text-sm\",\n                  children: \"Upload Picture:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs md:text-sm p-2 text-gray-600 cursor-pointer \",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    name: \"image\",\n                    onChange: handleBlob\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 39\n          }, this), isSignup ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-purple-700 hover:bg-purple-400 text-white text-lg px-4 py-2 rounded block w-full active:bg-purple-300 transition ease-in duration-75\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex justify-center items-center text-md md:text-lg\",\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 185\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 39\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-purple-700 hover:bg-purple-400 text-white px-4 py-2 rounded block w-full active:bg-purple-500 transition ease-in duration-75 text-md md:text-lg\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this), \"  \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-xs text-center cursor-pointer mt-1\",\n          onClick: setSignUp,\n          children: [isSignup ? \" Already have an account?\" : \"Don't have an account? Click here to Sign up!\", \"   \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), authData.loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 38\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"UrX7M1re27P30240BQy3iVe80ls=\", false, function () {\n  return [useHistory, useDispatch, useSelector];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Lim/Desktop/Clone/login-mern/client/src/components/Login/Login.js"],"names":["React","useState","useEffect","Loading","useHistory","useDispatch","useSelector","signUp","signIn","initialState","firstname","lastname","email","confirmPassword","password","imageUrl","Login","isSignup","setisSignup","userData","setuserData","blob","setBlob","history","dispatch","authData","state","auth","localStorage","getItem","push","handleSubmit","e","preventDefault","myForm","target","formData","FormData","type","payload","clear","handleBlob","URL","createObjectURL","files","handleChange","name","value","setSignUp","prev","error","loading"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,EAAqBC,WAArB,QAAwC,aAAxC;AAEA,SAAQC,MAAR,EAAeC,MAAf,QAA4B,0BAA5B,C,CAEA;AACA;;;AAEA,MAAMC,YAAY,GAAG;AAACC,EAAAA,SAAS,EAAE,EAAZ;AAAgBC,EAAAA,QAAQ,EAAE,EAA1B;AAA8BC,EAAAA,KAAK,EAAE,EAArC;AAAyCC,EAAAA,eAAe,EAAE,EAA1D;AAA8DC,EAAAA,QAAQ,EAAE,EAAxE;AAA4EC,EAAAA,QAAQ,EAAE;AAAtF,CAArB;;AACA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAAA;;AAEhB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACkB,QAAD,EAAWC,WAAX,IAA0BnB,QAAQ,CAACQ,YAAD,CAAxC;AACA,QAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBrB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAMsB,OAAO,GAAGnB,UAAU,EAA1B;AACA,QAAMoB,QAAQ,GAAGnB,WAAW,EAA5B;AACA,QAAMoB,QAAQ,GAAGnB,WAAW,CAACoB,KAAK,IAAIA,KAAK,CAACC,IAAhB,CAA5B,CAPgB,CAShB;;AACAzB,EAAAA,SAAS,CAAC,MAAI;AACV,QAAG0B,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAH,EAAiC;AACjCN,MAAAA,OAAO,CAACO,IAAR,CAAa,GAAb;AACC;AACJ,GAJQ,EAIP,CAACP,OAAD,CAJO,CAAT;;AAMA,QAAMQ,YAAY,GAAIC,CAAD,IAAO;AACxBA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMC,MAAM,GAAGF,CAAC,CAACG,MAAjB;AACA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,CAAaH,MAAb,CAAjB;;AAEA,QAAGjB,QAAH,EAAY;AACR,UAAGE,QAAQ,CAACL,QAAT,KAAsBK,QAAQ,CAACN,eAAlC,EAAkD;AAC9C,eAAOW,QAAQ,CAAC;AAACc,UAAAA,IAAI,EAAC,OAAN;AAAeC,UAAAA,OAAO,EAAE;AAACzB,YAAAA,QAAQ,EAAC;AAAV;AAAxB,SAAD,CAAf;AACH;;AACDU,MAAAA,QAAQ,CAACjB,MAAM,CAAC6B,QAAD,EAAUlB,WAAV,EAAsBsB,KAAtB,CAAP,CAAR;AACH,KALD,MAKK;AACDhB,MAAAA,QAAQ,CAAChB,MAAM,CAAC4B,QAAD,EAAUb,OAAV,CAAP,CAAR;AACH;AACJ,GAdD;;AAeA,QAAMkB,UAAU,GAAIT,CAAD,IAAO;AACtBV,IAAAA,OAAO,CAACoB,GAAG,CAACC,eAAJ,CAAoBX,CAAC,CAACG,MAAF,CAASS,KAAT,CAAe,CAAf,CAApB,CAAD,CAAP;AACH,GAFD;;AAGA,QAAMC,YAAY,GAAIb,CAAD,IAAO;AACxBZ,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAc,OAACa,CAAC,CAACG,MAAF,CAASW,IAAV,GAAiBd,CAAC,CAACG,MAAF,CAASY;AAAxC,KAAD,CAAX;AACH,GAFD;;AAGA,QAAMC,SAAS,GAAG,MAAM;AACpB9B,IAAAA,WAAW,CAAC+B,IAAI,IAAI,CAACA,IAAV,CAAX;AACAT,IAAAA,KAAK;AACLhB,IAAAA,QAAQ,CAAC;AAACc,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAR;AACH,GAJD;;AAMA,QAAME,KAAK,GAAG,MAAM;AAChBpB,IAAAA,WAAW,CAAC;AAACV,MAAAA,SAAS,EAAE,EAAZ;AAAgBC,MAAAA,QAAQ,EAAE,EAA1B;AAA8BC,MAAAA,KAAK,EAAE,EAArC;AAAyCC,MAAAA,eAAe,EAAE,EAA1D;AAA8DC,MAAAA,QAAQ,EAAE,EAAxE;AAA4EC,MAAAA,QAAQ,EAAE;AAAtF,KAAD,CAAX;AACH,GAFD,CA3CgB,CA8ChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,sBACI;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,6EAAf;AAAA,6BACI;AAAG,QAAA,IAAI,EAAC,4CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAKI;AAAK,MAAA,SAAS,EAAC,8FAAf;AAAA,8BAQI;AAAK,QAAA,SAAS,EAAG,+FAA8FE,QAAQ,IAAK,oBAAqB,EAAjJ;AAAA,gCAEI;AAAI,UAAA,SAAS,EAAC,2CAAd;AAAA,qBAA2DA,QAAQ,GAAII,IAAI,KAAK,EAAT,GAAc,SAAd,gBAAyB;AAAK,YAAA,GAAG,EAAEA,IAAV;AAAgB,YAAA,GAAG,EAAEA,IAArB;AAA2B,YAAA,SAAS,EAAC;AAArC;AAAA;AAAA;AAAA;AAAA,kBAA7B,gBACnE;AAAK,YAAA,SAAS,EAAC,EAAf;AAAA,oCAAkB;AAAM,cAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAlB,eAA6D;AAAG,cAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA7D;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAII;AAAM,UAAA,SAAS,EAAG,aAAYJ,QAAQ,IAAK,cAAc,EAAzD;AAA4D,UAAA,QAAQ,EAAEc,YAAtE;AAAA,qBACMd,QAAQ,iBAAK;AAAK,YAAA,SAAS,EAAC,gBAAf;AAAA,oCACP;AAAK,cAAA,SAAS,EAAC,QAAf;AAAA,sCACI;AAAO,gBAAA,SAAS,EAAC,wCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEK,oBAAAQ,QAAQ,CAACyB,KAAT,oEAAgBxC,SAAhB,kBAA6B;AAAM,gBAAA,SAAS,EAAC,sBAAhB;AAAA,8CAAwCe,QAAQ,CAACyB,KAAjD,qDAAwC,iBAAgBxC;AAAxD;AAAA;AAAA;AAAA;AAAA,sBAFlC,eAGI;AAAO,gBAAA,IAAI,EAAC,MAAZ;AAAmB,gBAAA,IAAI,EAAC,WAAxB;AAAoC,gBAAA,WAAW,EAAC,WAAhD;AAA4D,gBAAA,SAAS,EAAC,mFAAtE;AAA0J,gBAAA,QAAQ,EAAEmC,YAApK;AAAkL,gBAAA,KAAK,EAAE1B,QAAQ,CAACT;AAAlM;AAAA;AAAA;AAAA;AAAA,sBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBADO,eAMP;AAAK,cAAA,SAAS,EAAC,QAAf;AAAA,sCACI;AAAO,gBAAA,SAAS,EAAC,wCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEK,qBAAAe,QAAQ,CAACyB,KAAT,sEAAgBvC,QAAhB,kBAA4B;AAAM,gBAAA,SAAS,EAAC,sBAAhB;AAAA,8CAAwCc,QAAQ,CAACyB,KAAjD,qDAAwC,iBAAgBvC;AAAxD;AAAA;AAAA;AAAA;AAAA,sBAFjC,eAGI;AAAO,gBAAA,IAAI,EAAC,MAAZ;AAAmB,gBAAA,IAAI,EAAC,UAAxB;AAAmC,gBAAA,WAAW,EAAC,UAA/C;AAA0D,gBAAA,SAAS,EAAC,mFAApE;AAAwJ,gBAAA,QAAQ,EAAEkC,YAAlK;AAAgL,gBAAA,KAAK,EAAE1B,QAAQ,CAACR;AAAhM;AAAA;AAAA;AAAA;AAAA,sBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBANO;AAAA;AAAA;AAAA;AAAA;AAAA,kBADnB,eAcI;AAAA,oCACI;AAAO,cAAA,SAAS,EAAC,wCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEK,qBAAAc,QAAQ,CAACyB,KAAT,sEAAgBtC,KAAhB,kBAAyB;AAAM,cAAA,SAAS,EAAC,sBAAhB;AAAA,4CAAwCa,QAAQ,CAACyB,KAAjD,qDAAwC,iBAAgBtC;AAAxD;AAAA;AAAA;AAAA;AAAA,oBAF9B,eAGI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,IAAI,EAAC,OAAxB;AAAgC,cAAA,WAAW,EAAC,OAA5C;AAAoD,cAAA,SAAS,EAAC,mFAA9D;AAAkJ,cAAA,QAAQ,EAAEiC,YAA5J;AAA0K,cAAA,KAAK,EAAE1B,QAAQ,CAACP;AAA1L;AAAA;AAAA;AAAA;AAAA,oBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAdJ,eAoBI;AAAA,oCACI;AAAO,cAAA,SAAS,EAAC,wCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEK,qBAAAa,QAAQ,CAACyB,KAAT,sEAAgBpC,QAAhB,kBAA4B;AAAM,cAAA,SAAS,EAAC,sBAAhB;AAAA,4CAAwCW,QAAQ,CAACyB,KAAjD,qDAAwC,iBAAgBpC;AAAxD;AAAA;AAAA;AAAA;AAAA,oBAFjC,eAGI;AAAO,cAAA,IAAI,EAAC,UAAZ;AAAuB,cAAA,IAAI,EAAC,UAA5B;AAAuC,cAAA,WAAW,EAAC,UAAnD;AAA8D,cAAA,SAAS,EAAC,mFAAxE;AAA4J,cAAA,QAAQ,EAAE+B,YAAtK;AAAoL,cAAA,KAAK,EAAE1B,QAAQ,CAACL;AAApM;AAAA;AAAA;AAAA;AAAA,oBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBApBJ,EA0BMG,QAAQ,iBAAI;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,oCACV;AAAO,cAAA,SAAS,EAAC,wCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADU,EAET,qBAAAQ,QAAQ,CAACyB,KAAT,sEAAgBrC,eAAhB,kBAAmC;AAAM,cAAA,SAAS,EAAC,sBAAhB;AAAA,6CAAwCY,QAAQ,CAACyB,KAAjD,sDAAwC,kBAAgBrC;AAAxD;AAAA;AAAA;AAAA;AAAA,oBAF1B,eAGV;AAAO,cAAA,IAAI,EAAC,UAAZ;AAAuB,cAAA,IAAI,EAAC,iBAA5B;AAA8C,cAAA,WAAW,EAAC,kBAA1D;AAA6E,cAAA,SAAS,EAAC,mFAAvF;AAA2K,cAAA,QAAQ,EAAEgC,YAArL;AAAmM,cAAA,KAAK,EAAE1B,QAAQ,CAACN;AAAnN;AAAA;AAAA;AAAA;AAAA,oBAHU,eAIV;AAAA,yBACC,sBAAAY,QAAQ,CAACyB,KAAT,wEAAgBnC,QAAhB,kBAA4B;AAAM,gBAAA,SAAS,EAAC,sBAAhB;AAAA,+CAAwCU,QAAQ,CAACyB,KAAjD,sDAAwC,kBAAgBnC;AAAxD;AAAA;AAAA;AAAA;AAAA,sBAD7B,eAEA;AAAK,gBAAA,SAAS,EAAC,4BAAf;AAAA,wCACI;AAAO,kBAAA,SAAS,EAAC,wCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEQ;AAAK,kBAAA,SAAS,EAAC,sDAAf;AAAA,yCACI;AAAO,oBAAA,IAAI,EAAC,MAAZ;AAAmB,oBAAA,IAAI,EAAC,OAAxB;AAAgC,oBAAA,QAAQ,EAAE0B;AAA1C;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAFR;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJU;AAAA;AAAA;AAAA;AAAA;AAAA,kBA1BlB,EA0CMxB,QAAQ,gBAAI;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,mCACV;AAAQ,cAAA,SAAS,EAAC,yIAAlB;AAAA,qCAA4J;AAAM,gBAAA,SAAS,EAAC,qDAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA5J;AAAA;AAAA;AAAA;AAAA;AADU;AAAA;AAAA;AAAA;AAAA,kBAAJ,gBAEA;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,oCACN;AAAQ,cAAA,SAAS,EAAC,oJAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADM;AAAA;AAAA;AAAA;AAAA;AAAA,kBA5Cd;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAkEI;AAAG,UAAA,SAAS,EAAC,uDAAb;AACC,UAAA,OAAO,EAAE+B,SADV;AAAA,qBAEI/B,QAAQ,GAAG,2BAAH,GAAiC,+CAF7C;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlEJ;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,EA8EKQ,QAAQ,CAAC0B,OAAT,iBAAoB,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cA9EzB;AAAA;AAAA;AAAA;AAAA;AAAA,YALJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAyFH,CAvJD;;GAAMnC,K;UAKcZ,U,EACCC,W,EACAC,W;;;KAPfU,K;AAyJN,eAAeA,KAAf","sourcesContent":["import React,{ useState, useEffect } from 'react';\r\nimport Loading from '../layout/Loading';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch,useSelector } from 'react-redux';\r\n\r\nimport {signUp,signIn} from '../../redux/actions/auth';\r\n\r\n// import GoogleSvg from '../layout/GoogleSvg';\r\n// import { GoogleLogin } from 'react-google-login';\r\n\r\nconst initialState = {firstname: '', lastname: '', email: '', confirmPassword: '', password: '', imageUrl: ''};\r\nconst Login = () => {\r\n \r\n    const [isSignup, setisSignup] = useState(false);\r\n    const [userData, setuserData] = useState(initialState);\r\n    const [blob, setBlob] = useState('');\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const authData = useSelector(state => state.auth);\r\n\r\n    //Checks if the user is authenticated, then if its true redirect to homepage\r\n    useEffect(()=>{\r\n        if(localStorage.getItem('token')){\r\n        history.push('/');\r\n        }\r\n    },[history])\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const myForm = e.target;\r\n        const formData = new FormData(myForm);\r\n\r\n        if(isSignup){\r\n            if(userData.password !== userData.confirmPassword){\r\n                return dispatch({type:'ERROR', payload: {password:\"Password and Confirm Password doesn't match!\"}});\r\n            }\r\n            dispatch(signUp(formData,setisSignup,clear));\r\n        }else{\r\n            dispatch(signIn(formData,history));\r\n        }\r\n    }\r\n    const handleBlob = (e) => {\r\n        setBlob(URL.createObjectURL(e.target.files[0]));\r\n    }\r\n    const handleChange = (e) => {\r\n        setuserData({...userData, [e.target.name]: e.target.value });\r\n    }\r\n    const setSignUp = () => {\r\n        setisSignup(prev => !prev);\r\n        clear();\r\n        dispatch({type:'CLEAR_ERROR'});\r\n    }\r\n\r\n    const clear = () => {\r\n        setuserData({firstname: '', lastname: '', email: '', confirmPassword: '', password: '', imageUrl: ''});\r\n    }\r\n    // Google Auth \r\n    // const googleSuccess = async (res) => {\r\n    //     const profile = res?.profileObj;\r\n    //     const token = res?.tokenId;\r\n    //     try{\r\n    //         dispatch({type: 'LOGIN', payload: {profile, token}});\r\n    //         history.push('/');\r\n    //     }catch(error){\r\n    //         console.log(error);\r\n    //     }\r\n    // }\r\n    // const googleFailure = async (error) => {\r\n    //     console.log(error);\r\n    //     console.log('Google Sign in failed.')\r\n    // } // Google Auth \r\n\r\n    return (\r\n        <div>\r\n            <div className=\"fixed m-4 z-40 text-sm text-gray-300 text-center bottom-0 right-0 underline\">\r\n                <a href=\"https://www.facebook.com/limnixon03292001/\">Developed By: Nixon A. Lim</a>\r\n            </div>\r\n\r\n            <div className=\"relative z-10 w-full max-w-full min-h-screen flex justify-center items-center border-red-500\"> \r\n\r\n                {/* <div className=\"space-y-1 ml-7 tracking-tight\">\r\n                    <p className=\" text-base\">Welcome! to</p>\r\n                    <h1 className=\"text-7xl font-bold\"><span>CONNECT</span> <sup className=\"text-md text-gray-600\">BETA</sup></h1>\r\n                    <p className=\"text-gray-600\">Why connect beta? i don't know either!</p>\r\n                </div> */}\r\n\r\n                <div className={`bg-white tracking-wide bg-opacity-13 px-8 py-9 rounded shadow md:w-96 h-auto space-y-10 m-2 ${isSignup && `md:w-1/2 lg:w-2/5 ` }`}>\r\n                \r\n                    <h1 className=\"text-3xl text-gray-600 text-center w-full\">{isSignup ? (blob === '' ? 'Sign Up': <img src={blob} alt={blob} className=\"rounded-full block w-24 h-24 m-auto object-cover\"/>) : \r\n                    <div className=\"\"><span className=\"text-xs\">Welcome to</span><p className=\"text-3xl\">Connect!</p></div>  } </h1>\r\n                    <form className={`space-y-5 ${isSignup && `sm:space-y-2`}`} onSubmit={handleSubmit}>\r\n                        { isSignup &&  <div className=\"flex space-x-3\">\r\n                                <div className=\"flex-1\">\r\n                                    <label className=\"block text-gray-600 text-xs md:text-sm\">Firstname</label>\r\n                                    {authData.error?.firstname && <span className=\"text-red-400 text-xs\">{authData.error?.firstname}</span>}\r\n                                    <input type=\"text\" name=\"firstname\" placeholder=\"FirstName\" className=\"w-full border border-gray-200 p-2 rounded mt-2 outline-none focus:border-blue-500\" onChange={handleChange} value={userData.firstname} />\r\n                                </div>\r\n                                <div className=\"flex-1\">\r\n                                    <label className=\"block text-gray-600 text-xs md:text-sm\">Lastname</label>\r\n                                    {authData.error?.lastname && <span className=\"text-red-400 text-xs\">{authData.error?.lastname}</span>}\r\n                                    <input type=\"text\" name=\"lastname\" placeholder=\"LastName\" className=\"w-full border border-gray-200 p-2 rounded mt-2 outline-none focus:border-blue-500\" onChange={handleChange} value={userData.lastname} />\r\n                                </div>\r\n                            </div> }\r\n\r\n                        <div>\r\n                            <label className=\"block text-gray-600 text-xs md:text-sm\">Email</label>\r\n                            {authData.error?.email && <span className=\"text-red-400 text-xs\">{authData.error?.email}</span>}\r\n                            <input type=\"text\" name=\"email\" placeholder=\"Email\" className=\"w-full border border-gray-200 p-2 rounded mt-2 outline-none focus:border-blue-500\" onChange={handleChange} value={userData.email} />\r\n                        </div>\r\n                        \r\n                        <div>\r\n                            <label className=\"block text-gray-600 text-xs md:text-sm\">Password</label>\r\n                            {authData.error?.password && <span className=\"text-red-400 text-xs\">{authData.error?.password}</span>}\r\n                            <input type=\"password\" name=\"password\" placeholder=\"Password\" className=\"w-full border border-gray-200 p-2 rounded mt-2 outline-none focus:border-blue-500\" onChange={handleChange} value={userData.password} />\r\n                        </div>\r\n\r\n                        { isSignup && <div className=\"space-y-3\">\r\n                            <label className=\"block text-gray-600 text-xs md:text-sm\">Confirm Password</label>\r\n                            {authData.error?.confirmPassword && <span className=\"text-red-400 text-xs\">{authData.error?.confirmPassword}</span>}\r\n                            <input type=\"password\" name=\"confirmPassword\" placeholder=\"Confirm Password\" className=\"w-full border border-gray-200 p-2 rounded mt-2 outline-none focus:border-blue-500\" onChange={handleChange} value={userData.confirmPassword} />\r\n                            <div >\r\n                            {authData.error?.imageUrl && <span className=\"text-red-400 text-xs\">{authData.error?.imageUrl}</span>}\r\n                            <div className=\"flex items-center md:gap-2\">\r\n                                <label className=\"block text-gray-600 text-xs md:text-sm\">Upload Picture:</label>\r\n                                    <div className=\"text-xs md:text-sm p-2 text-gray-600 cursor-pointer \">\r\n                                        <input type=\"file\" name=\"image\" onChange={handleBlob}/>\r\n                                    </div>\r\n                            </div>\r\n                            </div>\r\n                               \r\n                        </div>}\r\n                     \r\n                        { isSignup ?  <div className=\"space-y-3\">\r\n                            <button className=\"bg-purple-700 hover:bg-purple-400 text-white text-lg px-4 py-2 rounded block w-full active:bg-purple-300 transition ease-in duration-75\"><span className=\"flex justify-center items-center text-md md:text-lg\">Sign Up</span></button>\r\n                        </div> :  <div className=\"space-y-3\">\r\n                            <button className=\"bg-purple-700 hover:bg-purple-400 text-white px-4 py-2 rounded block w-full active:bg-purple-500 transition ease-in duration-75 text-md md:text-lg\">Login</button>\r\n                            {/* Google Auth */}\r\n                            {/* <p className=\"text-gray-600 text-center\">or</p>\r\n                            <GoogleLogin\r\n                                clientId=\"215946000983-n9blufh4c7sac7q7ia3qkrhmjvu13h4n.apps.googleusercontent.com\"\r\n                                render={(renderProps) => (\r\n                                    <button onClick={renderProps.onClick} disabled={renderProps.disabled} className=\"bg-white hover:bg-gray-100 border border-gray-200 text-gray-600 text-lg px-4 py-2 rounded block w-full active:bg-gray-200 transition ease-in duration-75\"><span className=\"flex justify-center items-center\"> <GoogleSvg />\r\n                                    Login with Google</span></button>\r\n                                )}\r\n                                onSuccess={googleSuccess}\r\n                                onFailure={googleFailure}\r\n                                cookiePolicy={'single_host_origin'}\r\n                            /> */}  {/* Google Auth */}\r\n                        </div> }\r\n                                \r\n                    </form>\r\n                                    \r\n                    <p className=\"text-gray-500 text-xs text-center cursor-pointer mt-1\"\r\n                     onClick={setSignUp} >\r\n                       {isSignup ? \" Already have an account?\" : \"Don't have an account? Click here to Sign up!\" }   </p>\r\n                </div>\r\n                {authData.loading && <Loading /> } \r\n            </div>\r\n        </div>\r\n                \r\n    );\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}