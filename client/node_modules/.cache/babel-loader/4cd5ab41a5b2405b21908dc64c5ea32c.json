{"ast":null,"code":"import _objectSpread from\"C:/Users/Lim/Desktop/Clone/login-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Lim/Desktop/Clone/login-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useDispatch}from'react-redux';import{updateUserProfile}from'../../redux/actions/users';import CancelIcon from\"../.././svg/cancel2.svg\";import loadingCat from\"../.././svg/loadingCat.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditUserProfile=function EditUserProfile(_ref){var _userInfo$user,_userInfo$user2;var setModal=_ref.setModal,userInfo=_ref.userInfo;var _useState=useState({firstname:(_userInfo$user=userInfo.user)===null||_userInfo$user===void 0?void 0:_userInfo$user.firstname,lastname:(_userInfo$user2=userInfo.user)===null||_userInfo$user2===void 0?void 0:_userInfo$user2.lastname}),_useState2=_slicedToArray(_useState,2),updateData=_useState2[0],setUpdateData=_useState2[1];var dispatch=useDispatch();var handleUpdate=function handleUpdate(e){var _userInfo$user3;e.preventDefault();if(updateData.firstname.trim()===''&&updateData.lastname.trim()===''){return alert('Firstname, Lastname are required!');}dispatch(updateUserProfile((_userInfo$user3=userInfo.user)===null||_userInfo$user3===void 0?void 0:_userInfo$user3._id,updateData,setModal));};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-40 w-full h-full flex justify-center items-center bg-black bg-opacity-25 overflow-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-primary m-2 w-full md:w-96 h-auto shadow-md border border-borderColor rounded-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 flex justify-between items-center border-b border-borderColor tracking-wide font-light\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-1 text-lg\",children:\"Edit name\"}),!userInfo.userUpdateLoading&&/*#__PURE__*/_jsx(\"button\",{className:\"hover:bg-white hover:bg-opacity-10 active:bg-white active:bg-opacity-25 rounded-full  p-2 transition ease-in duration-75\",onClick:function onClick(){return setModal(function(prev){return!prev;});},children:/*#__PURE__*/_jsx(\"img\",{src:CancelIcon,alt:\"\",className:\"h-4 w-4\"})})]}),userInfo.userUpdateLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 w-full h-full flex flex-col items-center justify-center space-y-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:loadingCat,alt:\"\",className:\"w-14 h-14\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Updating...Meow!!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-light text-gray-400\",children:\"Full page reload after..\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"p-3 space-y-2\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Firstname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Firstname\",value:updateData.firstname,className:\"w-full p-2 bg-secondary rounded-md outline-none\",onChange:function onChange(e){return setUpdateData(_objectSpread(_objectSpread({},updateData),{},{firstname:e.target.value}));},name:\"firstname\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lastname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Lastname\",value:updateData.lastname,className:\"w-full p-2 bg-secondary rounded-md outline-none\",onChange:function onChange(e){return setUpdateData(_objectSpread(_objectSpread({},updateData),{},{lastname:e.target.value}));},name:\"lastname\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-button2 rounded-md mt-3 py-1 px-1 w-full text-center font-light text-md md:text-lg\",children:\"Save Changes\"})]})})]})});};export default EditUserProfile;","map":{"version":3,"sources":["C:/Users/Lim/Desktop/Clone/login-mern/client/src/components/layout/EditUserProfile.js"],"names":["React","useState","useDispatch","updateUserProfile","EditUserProfile","setModal","userInfo","firstname","user","lastname","updateData","setUpdateData","dispatch","handleUpdate","e","preventDefault","trim","alert","_id","userUpdateLoading","prev","CancelIcon","loadingCat","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateUserProfile } from '../../redux/actions/users';\r\n\r\nimport CancelIcon from '../.././svg/cancel2.svg';\r\nimport loadingCat from '../.././svg/loadingCat.svg';\r\nconst EditUserProfile = ({setModal, userInfo}) => {\r\n\r\n    const [updateData, setUpdateData] = useState({firstname: userInfo.user?.firstname, lastname: userInfo.user?.lastname});\r\n    const dispatch = useDispatch();\r\n  \r\n    const handleUpdate = (e) => {\r\n        e.preventDefault();\r\n        if(updateData.firstname.trim() === '' && updateData.lastname.trim() === '' ){\r\n           return alert('Firstname, Lastname are required!');\r\n        }\r\n        dispatch(updateUserProfile(userInfo.user?._id, updateData, setModal));\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-40 w-full h-full flex justify-center items-center bg-black bg-opacity-25 overflow-auto\" >\r\n            <div className=\"bg-primary m-2 w-full md:w-96 h-auto shadow-md border border-borderColor rounded-md\">\r\n                <div className=\"p-2 flex justify-between items-center border-b border-borderColor tracking-wide font-light\">\r\n                    <div className=\"p-1 text-lg\">Edit name</div>\r\n                   {!userInfo.userUpdateLoading &&\r\n                    <button className=\"hover:bg-white hover:bg-opacity-10 active:bg-white active:bg-opacity-25 rounded-full  p-2 transition ease-in duration-75\" onClick={() => setModal(prev => !prev)}><img src={CancelIcon} alt=\"\" className=\"h-4 w-4\" /></button>\r\n                   }\r\n                </div>\r\n                \r\n                {/* form */}\r\n                     {/* execute during update */}\r\n                     {userInfo.userUpdateLoading ?\r\n                        <div className=\"p-4 w-full h-full flex flex-col items-center justify-center space-y-2\">\r\n                            <img src={loadingCat} alt=\"\" className=\"w-14 h-14\" /> \r\n                            <p>Updating...Meow!!</p>\r\n                            <p className=\"text-sm font-light text-gray-400\">Full page reload after..</p>\r\n                        </div> \r\n                        : \r\n                        <div className=\"p-3 space-y-2\">\r\n                            <form onSubmit={ handleUpdate}>\r\n                            <div className=\"space-y-3 gap-2\">\r\n                                <div className=\"space-y-1\">\r\n                                    <label>Firstname</label>\r\n                                    <input type=\"text\" placeholder=\"Firstname\" value={updateData.firstname} className=\"w-full p-2 bg-secondary rounded-md outline-none\" onChange={(e) => setUpdateData({...updateData, firstname: e.target.value})} name=\"firstname\" />\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <label>Lastname</label>\r\n                                    <input type=\"text\" placeholder=\"Lastname\" value={updateData.lastname} className=\"w-full p-2 bg-secondary rounded-md outline-none\" onChange={(e) => setUpdateData({...updateData, lastname: e.target.value})} name=\"lastname\" />\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <button className=\"bg-button2 rounded-md mt-3 py-1 px-1 w-full text-center font-light text-md md:text-lg\" >Save Changes</button>\r\n                            </form>\r\n                        </div>\r\n                        }\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditUserProfile\r\n"]},"metadata":{},"sourceType":"module"}