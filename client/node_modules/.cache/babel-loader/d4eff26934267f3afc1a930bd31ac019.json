{"ast":null,"code":"import _objectSpread from\"C:/Users/Lim/Desktop/Clone/login-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Lim/Desktop/Clone/login-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import FileBase from'react-file-base64';import EditIcon from\"../../svg/edit.svg\";import loadingCat from\"../../svg/loadingCat.svg\";import CancelIcon from\"../../svg/cancel2.svg\";import{useDispatch,useSelector}from'react-redux';import{updatePost}from'../../redux/actions/post';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditModal=function EditModal(_ref){var setSmallModal=_ref.setSmallModal,post=_ref.post,editModal=_ref.editModal;var _useState=useState({description:post.description,postImg:post.postImg}),_useState2=_slicedToArray(_useState,2),updateData=_useState2[0],setupdateData=_useState2[1];var dispatch=useDispatch();var postsState=useSelector(function(state){return state.posts;});var modalHandler=function modalHandler(){setupdateData({description:'',postImg:''});setSmallModal(false);};var handleUpdate=function handleUpdate(e){e.preventDefault();dispatch(updatePost(post._id,updateData,modalHandler));};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-y-0 inset-x-0 z-50 w-full h-full \".concat(editModal?\"flex\":\"hidden\",\" justify-center items-center bg-black bg-opacity-25 overflow-auto\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-primary rounded-md w-full md:w-2/4 max-w-screen-md m-3 border border-borderColor shadow-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center justify-between py-2 px-1 md:py-4 md:px-2 border-b border-borderColor\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 pl-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:EditIcon,alt:\"\",className:\" w-6 h-6\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl\",children:\"Edit post\"})]}),/*#__PURE__*/_jsx(\"div\",{children:postsState.updateLoading?'':/*#__PURE__*/_jsx(\"button\",{className:\"hover:bg-white hover:bg-opacity-10 active:bg-white active:bg-opacity-25 rounded-full  p-2 transition ease-in duration-75\",onClick:modalHandler,children:/*#__PURE__*/_jsx(\"img\",{src:CancelIcon,alt:\"\",className:\"h-4 w-4\"})})})]}),/*#__PURE__*/_jsx(\"div\",{children:postsState.updateLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center p-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:loadingCat,alt:\"loading...\",className:\"w-16 h-16\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-md\",children:\"Updating... Meow!\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-auto overflow-auto\",children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Create Post...\",cols:\"30\",rows:\"3\",className:\"w-full h-40 bg-primary p-3 focus:outline-none inset-0 m-0 rounded-t-md resize-none relative align-top overflow-auto\",name:\"description\",defaultValue:updateData.description,onChange:function onChange(e){return setupdateData(_objectSpread(_objectSpread({},updateData),{},{description:e.target.value}));},required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 bg-primary p-3 rounded-md\",children:[updateData.postImg&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-52 overflow-auto\",children:[/*#__PURE__*/_jsx(\"img\",{src:updateData.postImg,alt:updateData.postImg,className:\"rounded-md object-cover w-full max-h-37\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"bg-gray-600 bg-opacity-30 shadow-md hover:bg-gray-500 hover:bg-opacity-30  active:bg-white active:bg-opacity-25 rounded-full p-2 transition ease-in duration-75 absolute top-0 right-0 m-2\",children:[\"  \",/*#__PURE__*/_jsx(\"img\",{src:CancelIcon,alt:\"\",className:\"w-4 h-4 rounded-md \",onClick:function onClick(){return setupdateData(_objectSpread(_objectSpread({},updateData),{},{postImg:''}));}}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-end gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center text-xs md:text-sm relative object-cover cursor-pointer overflow-hidden w-full\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-md\",children:\"Upload Picture:\"}),/*#__PURE__*/_jsx(FileBase,{className:\"w-full\",type:\"file\",multiple:false,onDone:function onDone(base64){setupdateData(_objectSpread(_objectSpread({},updateData),{},{postImg:base64.base64}));}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-button2 hover:bg-purple-400 active:bg-purple-500 rounded-md p-1 py-2 p transition ease-in duration-75 cursor-pointer w-full text-sm md:text-lg\",onClick:handleUpdate,children:\" Update Post\"})]})]})]})})]})});};export default EditModal;","map":{"version":3,"sources":["C:/Users/Lim/Desktop/Clone/login-mern/client/src/components/layout/EditModal.js"],"names":["React","useState","FileBase","useDispatch","useSelector","updatePost","EditModal","setSmallModal","post","editModal","description","postImg","updateData","setupdateData","dispatch","postsState","state","posts","modalHandler","handleUpdate","e","preventDefault","_id","EditIcon","updateLoading","CancelIcon","loadingCat","target","value","base64"],"mappings":"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","sourcesContent":["import React,{ useState } from 'react'\r\nimport FileBase from 'react-file-base64';\r\n\r\nimport EditIcon from '../../svg/edit.svg';\r\nimport loadingCat from '../../svg/loadingCat.svg';\r\nimport CancelIcon from '../../svg/cancel2.svg';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { updatePost } from '../../redux/actions/post';\r\n\r\n\r\n\r\nconst EditModal = ({setSmallModal, post, editModal }) => {\r\n    const [updateData, setupdateData] = useState({description: post.description, postImg: post.postImg});\r\n    const dispatch = useDispatch();\r\n    const postsState = useSelector(state => state.posts)\r\n\r\n    const modalHandler = () => {\r\n        setupdateData({description:'', postImg:''});\r\n        setSmallModal(false);\r\n    }\r\n    const handleUpdate = (e) => {\r\n        e.preventDefault();\r\n        dispatch(updatePost(post._id,updateData, modalHandler));\r\n    }\r\n\r\n \r\n  \r\n    return (\r\n         <div className={`fixed inset-y-0 inset-x-0 z-50 w-full h-full ${editModal ? `flex` : `hidden` } justify-center items-center bg-black bg-opacity-25 overflow-auto`}>\r\n            <div className=\"bg-primary rounded-md w-full md:w-2/4 max-w-screen-md m-3 border border-borderColor shadow-md\">\r\n                <div className=\"flex gap-2 items-center justify-between py-2 px-1 md:py-4 md:px-2 border-b border-borderColor\">\r\n                    <div className=\"flex gap-2 pl-2\">\r\n                        <img src={EditIcon} alt=\"\" className=\" w-6 h-6\" />  \r\n                        <h1 className=\"text-xl\">Edit post</h1>\r\n                    </div>\r\n                    <div>\r\n                        {postsState.updateLoading ? '' :      \r\n                        <button className=\"hover:bg-white hover:bg-opacity-10 active:bg-white active:bg-opacity-25 rounded-full  p-2 transition ease-in duration-75\" onClick={modalHandler}><img src={CancelIcon} alt=\"\" className=\"h-4 w-4\" /></button> }\r\n                   \r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    {postsState.updateLoading ? \r\n                    <div className=\"flex flex-col justify-center items-center p-4\">\r\n                        <img src={loadingCat} alt=\"loading...\" className=\"w-16 h-16\" />\r\n                        <p className=\"text-md\">Updating... Meow!</p>\r\n                    </div> : \r\n                    <div className=\"relative h-auto overflow-auto\">\r\n\r\n                            <textarea placeholder=\"Create Post...\" cols=\"30\" rows=\"3\" className=\"w-full h-40 bg-primary p-3 focus:outline-none inset-0 m-0 rounded-t-md resize-none relative align-top overflow-auto\" name=\"description\" defaultValue={updateData.description} onChange={(e) => setupdateData({...updateData, description: e.target.value})} required></textarea> \r\n\r\n                            <div className=\"space-y-3 bg-primary p-3 rounded-md\">\r\n                                {/* if theres an image go here */}\r\n                                {updateData.postImg && <div className=\"relative h-52 overflow-auto\">\r\n                                    <img src={updateData.postImg} alt={updateData.postImg} className=\"rounded-md object-cover w-full max-h-37\"/>\r\n                                    <button className=\"bg-gray-600 bg-opacity-30 shadow-md hover:bg-gray-500 hover:bg-opacity-30  active:bg-white active:bg-opacity-25 rounded-full p-2 transition ease-in duration-75 absolute top-0 right-0 m-2\">  <img src={CancelIcon} alt=\"\" className=\"w-4 h-4 rounded-md \" onClick={() => setupdateData({...updateData, postImg: ''})} /> </button>\r\n                                </div> }\r\n                                    <div className=\"flex flex-col items-center justify-end gap-3\">\r\n                                        <div className=\"flex gap-2 items-center text-xs md:text-sm relative object-cover cursor-pointer overflow-hidden w-full\">\r\n                                            <p className=\"text-md\">Upload Picture:</p>\r\n                                            <FileBase \r\n                                                className=\"w-full\"\r\n                                                type=\"file\"\r\n                                                multiple={false}\r\n                                                onDone={(base64) => {\r\n                                                    setupdateData({...updateData, postImg: base64.base64});\r\n                                                }}\r\n                                            />\r\n                                        </div>\r\n                                        <button className=\"bg-button2 hover:bg-purple-400 active:bg-purple-500 rounded-md p-1 py-2 p transition ease-in duration-75 cursor-pointer w-full text-sm md:text-lg\" onClick={handleUpdate}> Update Post</button> \r\n                                    </div>\r\n                            </div>\r\n                    </div> }\r\n                    \r\n                </div>\r\n              \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditModal\r\n"]},"metadata":{},"sourceType":"module"}