{"ast":null,"code":"import * as api from '../../api/auth';\nexport const signUp = (data, setisSignup, clear) => async dispatch => {\n  try {\n    dispatch({\n      type: 'LOADING'\n    });\n    await api.signUp(data);\n    dispatch({\n      type: 'LOADING_DONE'\n    });\n    setisSignup(prev => !prev);\n    clear();\n  } catch (err) {\n    var _err$response;\n\n    console.log(err);\n    const errors = (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data.errors;\n    dispatch({\n      type: 'ERROR',\n      payload: errors\n    });\n  }\n};\nexport const signIn = (data, history) => async dispatch => {\n  try {\n    dispatch({\n      type: 'LOADING'\n    });\n    const result = await api.signIn(data);\n    dispatch({\n      type: 'LOGIN',\n      payload: result\n    });\n    history.push('/');\n  } catch (err) {\n    var _err$response2;\n\n    console.log(err);\n    const errors = (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data.errors;\n    dispatch({\n      type: 'ERROR',\n      payload: errors\n    });\n  }\n}; // export const getUser = () => async (dispatch) => {\n//     try{\n//         dispatch({type:'LOADING'});\n//         const {data} = await api.getUser();\n//         dispatch({type:'INSERT_USER',payload: data.result});\n//     }catch(err){\n//         console.log('err', err);\n//         dispatch({type:'ERROR', payload: err});\n//     }\n// }\n\nexport const autoLogout = history => async dispatch => {\n  dispatch({\n    type: 'LOGOUT'\n  });\n  history.push('/login');\n};","map":{"version":3,"sources":["C:/Users/Lim/Desktop/Clone/login-mern/client/src/redux/actions/auth.js"],"names":["api","signUp","data","setisSignup","clear","dispatch","type","prev","err","console","log","errors","response","payload","signIn","history","result","push","autoLogout"],"mappings":"AAAA,OAAO,KAAKA,GAAZ,MAAqB,gBAArB;AAEA,OAAO,MAAMC,MAAM,GAAG,CAACC,IAAD,EAAOC,WAAP,EAAoBC,KAApB,KAA+B,MAAOC,QAAP,IAAoB;AACrE,MAAG;AACCA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAR;AACA,UAAMN,GAAG,CAACC,MAAJ,CAAWC,IAAX,CAAN;AACAG,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAR;AACAH,IAAAA,WAAW,CAACI,IAAI,IAAI,CAACA,IAAV,CAAX;AACAH,IAAAA,KAAK;AACR,GAND,CAMC,OAAMI,GAAN,EAAU;AAAA;;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,UAAMG,MAAM,oBAAGH,GAAG,CAACI,QAAP,kDAAG,cAAcV,IAAd,CAAmBS,MAAlC;AACAN,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAC,OAAN;AAAeO,MAAAA,OAAO,EAAEF;AAAxB,KAAD,CAAR;AACH;AACJ,CAZM;AAcP,OAAO,MAAMG,MAAM,GAAG,CAACZ,IAAD,EAAMa,OAAN,KAAkB,MAAOV,QAAP,IAAoB;AACxD,MAAG;AACAA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAR;AACA,UAAMU,MAAM,GAAG,MAAMhB,GAAG,CAACc,MAAJ,CAAWZ,IAAX,CAArB;AACAG,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAC,OAAN;AAAcO,MAAAA,OAAO,EAAEG;AAAvB,KAAD,CAAR;AACCD,IAAAA,OAAO,CAACE,IAAR,CAAa,GAAb;AACH,GALD,CAKC,OAAMT,GAAN,EAAU;AAAA;;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,UAAMG,MAAM,qBAAGH,GAAG,CAACI,QAAP,mDAAG,eAAcV,IAAd,CAAmBS,MAAlC;AACAN,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAC,OAAN;AAAeO,MAAAA,OAAO,EAAEF;AAAxB,KAAD,CAAR;AACH;AACJ,CAXM,C,CAaP;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAGA,OAAO,MAAMO,UAAU,GAAIH,OAAD,IAAa,MAAMV,QAAN,IAAmB;AACtDA,EAAAA,QAAQ,CAAC;AAACC,IAAAA,IAAI,EAAE;AAAP,GAAD,CAAR;AACAS,EAAAA,OAAO,CAACE,IAAR,CAAa,QAAb;AACH,CAHM","sourcesContent":["import * as api from '../../api/auth';\r\n\r\nexport const signUp = (data, setisSignup, clear) =>  async (dispatch) => {\r\n    try{\r\n        dispatch({type:'LOADING'});\r\n        await api.signUp(data);\r\n        dispatch({type:'LOADING_DONE'});\r\n        setisSignup(prev => !prev);\r\n        clear();\r\n    }catch(err){\r\n        console.log(err);\r\n        const errors = err.response?.data.errors;\r\n        dispatch({type:'ERROR', payload: errors});\r\n    }\r\n}\r\n\r\nexport const signIn = (data,history) => async (dispatch) => {\r\n    try{\r\n       dispatch({type:'LOADING'});\r\n       const result = await api.signIn(data);\r\n       dispatch({type:'LOGIN',payload: result});\r\n        history.push('/');\r\n    }catch(err){\r\n        console.log(err);\r\n        const errors = err.response?.data.errors;\r\n        dispatch({type:'ERROR', payload: errors});\r\n    }\r\n}\r\n\r\n// export const getUser = () => async (dispatch) => {\r\n//     try{\r\n//         dispatch({type:'LOADING'});\r\n//         const {data} = await api.getUser();\r\n//         dispatch({type:'INSERT_USER',payload: data.result});\r\n\r\n//     }catch(err){\r\n//         console.log('err', err);\r\n//         dispatch({type:'ERROR', payload: err});\r\n//     }\r\n// }\r\n\r\n\r\nexport const autoLogout = (history) => async(dispatch) => {\r\n    dispatch({type: 'LOGOUT'});\r\n    history.push('/login');\r\n}\r\n\r\n "]},"metadata":{},"sourceType":"module"}