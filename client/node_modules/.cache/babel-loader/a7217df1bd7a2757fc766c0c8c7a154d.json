{"ast":null,"code":"import _slicedToArray from\"C:/Users/Lim/Desktop/Clone/login-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useSelector}from'react-redux';import moment from'moment';import defaultImage from'../../../svg/defaultImage.jpg';import MoreIcon from\"../../../svg/ellipsis.svg\";import EditDelete from'./EditDelete';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Comment=function Comment(_ref){var _userComment$user,_userComment$user2,_userComment$user3,_userComment$user4,_user$authData;var userComment=_ref.userComment,postID=_ref.postID;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal=_useState2[0],setModal=_useState2[1];var user=useSelector(function(state){return state.auth;});// clean up!\nuseEffect(function(){return function(){return userComment;};},[userComment]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 text-white w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-11 min-w-max\",children:((_userComment$user=userComment.user)===null||_userComment$user===void 0?void 0:_userComment$user.imageUrl)?/*#__PURE__*/_jsx(\"img\",{src:(_userComment$user2=userComment.user)===null||_userComment$user2===void 0?void 0:_userComment$user2.imageUrl,alt:\"\",className:\"h-11 w-11 rounded-full object-cover bg-purple-400\"}):/*#__PURE__*/_jsx(\"img\",{src:defaultImage,alt:\"\",className:\"h-11 w-11 rounded-full object-cover bg-purple-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex-initial w-max h-auto bg-secondary bg-opacity-30 shadow rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center \",children:[/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(userComment.user._id),className:\"text-md font-semibold\",children:[(_userComment$user3=userComment.user)===null||_userComment$user3===void 0?void 0:_userComment$user3.firstname,\" \",(_userComment$user4=userComment.user)===null||_userComment$user4===void 0?void 0:_userComment$user4.lastname]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-200\",children:[\" - \",moment(userComment.commentDate).fromNow()]}),((_user$authData=user.authData)===null||_user$authData===void 0?void 0:_user$authData._id)===userComment.user._id&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-2 -right-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"hover:bg-white active:bg-gray-500 hover:bg-opacity-10 transition ease-in duration-75 bg-secondary bg-opacity-30 shadow rounded-full p-1\",onClick:function onClick(){return setModal(function(prev){return!prev;});},children:/*#__PURE__*/_jsx(\"img\",{src:MoreIcon,alt:\"...\",className:\"h-4 w-4 m-auto\"})}),modal&&/*#__PURE__*/_jsx(EditDelete,{setModal:setModal,userComment:userComment,postID:postID})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-normal\",children:/*#__PURE__*/_jsx(\"p\",{className:\"break-words\",children:userComment===null||userComment===void 0?void 0:userComment.commentData})})]})]});};export default Comment;","map":{"version":3,"sources":["C:/Users/Lim/Desktop/Clone/login-mern/client/src/components/layout/Comment/Comment.js"],"names":["React","useState","useEffect","Link","useSelector","moment","defaultImage","EditDelete","Comment","userComment","postID","modal","setModal","user","state","auth","imageUrl","_id","firstname","lastname","commentDate","fromNow","authData","prev","MoreIcon","commentData"],"mappings":"mKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CAEA,MAAOC,CAAAA,YAAP,KAAyB,+BAAzB,C,gDAEA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAA2B,kGAAzBC,CAAAA,WAAyB,MAAzBA,WAAyB,CAAZC,MAAY,MAAZA,MAAY,CAEvC,cAA0BT,QAAQ,CAAC,KAAD,CAAlC,wCAAOU,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,IAAI,CAAGT,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACC,IAAV,EAAN,CAAxB,CAEA;AACAb,SAAS,CAAC,UAAM,CACZ,MAAO,kBAAMO,CAAAA,WAAN,EAAP,CACH,CAFQ,CAEP,CAACA,WAAD,CAFO,CAAT,CAIA,mBACI,aAAK,SAAS,CAAC,8BAAf,wBACI,YAAK,SAAS,CAAC,8BAAf,UACK,oBAAAA,WAAW,CAACI,IAAZ,8DAAkBG,QAAlB,eAA8B,YAAK,GAAG,qBAAEP,WAAW,CAACI,IAAd,6CAAE,mBAAkBG,QAA5B,CAAsC,GAAG,CAAC,EAA1C,CAA6C,SAAS,CAAC,mDAAvD,EAA9B,cAA6I,YAAK,GAAG,CAAEV,YAAV,CAAwB,GAAG,CAAC,EAA5B,CAA+B,SAAS,CAAC,mDAAzC,EADlJ,EADJ,cAKI,aAAK,SAAS,CAAC,qFAAf,wBACI,aAAK,SAAS,CAAC,0BAAf,wBACI,MAAC,IAAD,EAAM,EAAE,oBAAcG,WAAW,CAACI,IAAZ,CAAiBI,GAA/B,CAAR,CAA6C,SAAS,CAAC,uBAAvD,+BAAgFR,WAAW,CAACI,IAA5F,6CAAgF,mBAAkBK,SAAlG,yBAA8GT,WAAW,CAACI,IAA1H,6CAA8G,mBAAkBM,QAAhI,GADJ,cAEI,cAAM,SAAS,CAAC,uBAAhB,iBAA4Cd,MAAM,CAACI,WAAW,CAACW,WAAb,CAAN,CAAgCC,OAAhC,EAA5C,GAFJ,CAIK,iBAAAR,IAAI,CAACS,QAAL,wDAAeL,GAAf,IAAuBR,WAAW,CAACI,IAAZ,CAAiBI,GAAxC,eACD,YAAK,SAAS,CAAC,0BAAf,uBACI,aAAK,SAAS,CAAC,UAAf,wBACI,eAAQ,SAAS,CAAC,yIAAlB,CAA4J,OAAO,CAAE,yBAAML,CAAAA,QAAQ,CAAC,SAAAW,IAAI,QAAI,CAACA,IAAL,EAAL,CAAd,EAArK,uBACI,YAAK,GAAG,CAAEC,QAAV,CAAoB,GAAG,CAAC,KAAxB,CAA8B,SAAS,CAAC,gBAAxC,EADJ,EADJ,CAIKb,KAAK,eAAI,KAAC,UAAD,EAAY,QAAQ,CAAEC,QAAtB,CAAgC,WAAW,CAAEH,WAA7C,CAA0D,MAAM,CAAEC,MAAlE,EAJd,GADJ,EALJ,GADJ,cAgBG,YAAK,SAAS,CAAC,qBAAf,uBACI,UAAG,SAAS,CAAC,aAAb,UAA4BD,WAA5B,SAA4BA,WAA5B,iBAA4BA,WAAW,CAAEgB,WAAzC,EADJ,EAhBH,GALJ,GADJ,CA4BH,CAtCD,CAwCA,cAAejB,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport {Link} from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\nimport defaultImage from '../../../svg/defaultImage.jpg';\r\nimport MoreIcon from '../../../svg/ellipsis.svg';\r\nimport EditDelete from './EditDelete';\r\n\r\nconst Comment = ({userComment, postID}) => {\r\n\r\n    const [modal, setModal] = useState(false);\r\n    const user = useSelector(state => state.auth);\r\n\r\n    // clean up!\r\n    useEffect(() => {\r\n        return () => userComment\r\n    },[userComment])\r\n\r\n    return (\r\n        <div className=\"flex gap-2 text-white w-full\">\r\n            <div className=\"flex-shrink-0 w-11 min-w-max\">\r\n                {userComment.user?.imageUrl ?  <img src={userComment.user?.imageUrl} alt=\"\" className=\"h-11 w-11 rounded-full object-cover bg-purple-400\"/> : <img src={defaultImage} alt=\"\" className=\"h-11 w-11 rounded-full object-cover bg-purple-400\"/>  }\r\n               \r\n            </div>\r\n            <div className=\"relative flex-initial w-max h-auto bg-secondary bg-opacity-30 shadow rounded-lg p-3\">\r\n                <div className=\"flex gap-2 items-center \">\r\n                    <Link to={`/profile/${userComment.user._id}`}className=\"text-md font-semibold\">{userComment.user?.firstname} {userComment.user?.lastname}</Link>\r\n                    <span className=\"text-xs text-gray-200\"> - {moment(userComment.commentDate).fromNow()}</span>\r\n\r\n                    {user.authData?._id === userComment.user._id &&   \r\n                    <div className=\"absolute -top-2 -right-3\">\r\n                        <div className=\"relative\">\r\n                            <button className=\"hover:bg-white active:bg-gray-500 hover:bg-opacity-10 transition ease-in duration-75 bg-secondary bg-opacity-30 shadow rounded-full p-1\" onClick={() => setModal(prev => !prev)}>\r\n                                <img src={MoreIcon} alt=\"...\" className=\"h-4 w-4 m-auto\" />\r\n                            </button>\r\n                            {modal && <EditDelete setModal={setModal} userComment={userComment} postID={postID}/>}\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                </div>\r\n               <div className=\"text-sm font-normal\">\r\n                   <p className=\"break-words\">{userComment?.commentData}</p>\r\n                </div> \r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comment\r\n   "]},"metadata":{},"sourceType":"module"}