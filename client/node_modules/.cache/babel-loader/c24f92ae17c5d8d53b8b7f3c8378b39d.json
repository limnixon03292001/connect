{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Lim/Desktop/Clone/login-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Lim/Desktop/Clone/login-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import*as api from'../../api/auth';export var signUp=function signUp(data,setisSignup,clear){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _err$response,errors;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:'LOADING'});_context.next=4;return api.signUp(data);case 4:dispatch({type:'LOADING_DONE'});setisSignup(function(prev){return!prev;});clear();_context.next=14;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);errors=(_err$response=_context.t0.response)===null||_err$response===void 0?void 0:_err$response.data.errors;dispatch({type:'ERROR',payload:errors});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var signIn=function signIn(data,history){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var result,_err$response2,errors;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:'LOADING'});_context2.next=4;return api.signIn(data);case 4:result=_context2.sent;dispatch({type:'LOGIN',payload:result});history.push('/');_context2.next=14;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);errors=(_err$response2=_context2.t0.response)===null||_err$response2===void 0?void 0:_err$response2.data.errors;dispatch({type:'ERROR',payload:errors});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// export const getUser = () => async (dispatch) => {\n//     try{\n//         dispatch({type:'LOADING'});\n//         const {data} = await api.getUser();\n//         dispatch({type:'INSERT_USER',payload: data.result});\n//     }catch(err){\n//         console.log('err', err);\n//         dispatch({type:'ERROR', payload: err});\n//     }\n// }\nexport var autoLogout=function autoLogout(history){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:'LOGOUT'});history.push('/login');case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/Lim/Desktop/Clone/login-mern/client/src/redux/actions/auth.js"],"names":["api","signUp","data","setisSignup","clear","dispatch","type","prev","console","log","errors","response","payload","signIn","history","result","push","autoLogout"],"mappings":"mUAAA,MAAO,GAAKA,CAAAA,GAAZ,KAAqB,gBAArB,CAEA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,IAAD,CAAOC,WAAP,CAAoBC,KAApB,iGAA+B,iBAAOC,QAAP,2JAE7CA,QAAQ,CAAC,CAACC,IAAI,CAAC,SAAN,CAAD,CAAR,CAF6C,sBAGvCN,CAAAA,GAAG,CAACC,MAAJ,CAAWC,IAAX,CAHuC,QAI7CG,QAAQ,CAAC,CAACC,IAAI,CAAC,cAAN,CAAD,CAAR,CACAH,WAAW,CAAC,SAAAI,IAAI,QAAI,CAACA,IAAL,EAAL,CAAX,CACAH,KAAK,GANwC,+EAQ7CI,OAAO,CAACC,GAAR,cACMC,MATuC,gBAS9B,YAAIC,QAT0B,wCAS9B,cAAcT,IAAd,CAAmBQ,MATW,CAU7CL,QAAQ,CAAC,CAACC,IAAI,CAAC,OAAN,CAAeM,OAAO,CAAEF,MAAxB,CAAD,CAAR,CAV6C,oEAA/B,gEAAf,CAcP,MAAO,IAAMG,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACX,IAAD,CAAMY,OAAN,kGAAkB,kBAAOT,QAAP,wKAEjCA,QAAQ,CAAC,CAACC,IAAI,CAAC,SAAN,CAAD,CAAR,CAFiC,uBAGZN,CAAAA,GAAG,CAACa,MAAJ,CAAWX,IAAX,CAHY,QAG3Ba,MAH2B,gBAIjCV,QAAQ,CAAC,CAACC,IAAI,CAAC,OAAN,CAAcM,OAAO,CAAEG,MAAvB,CAAD,CAAR,CACCD,OAAO,CAACE,IAAR,CAAa,GAAb,EALgC,mFAOhCR,OAAO,CAACC,GAAR,eACMC,MAR0B,iBAQjB,aAAIC,QARa,yCAQjB,eAAcT,IAAd,CAAmBQ,MARF,CAShCL,QAAQ,CAAC,CAACC,IAAI,CAAC,OAAN,CAAeM,OAAO,CAAEF,MAAxB,CAAD,CAAR,CATgC,sEAAlB,kEAAf,CAaP;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA,MAAO,IAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACH,OAAD,kGAAa,kBAAMT,QAAN,sHACnCA,QAAQ,CAAC,CAACC,IAAI,CAAE,QAAP,CAAD,CAAR,CACAQ,OAAO,CAACE,IAAR,CAAa,QAAb,EAFmC,wDAAb,kEAAnB","sourcesContent":["import * as api from '../../api/auth';\r\n\r\nexport const signUp = (data, setisSignup, clear) =>  async (dispatch) => {\r\n    try{\r\n        dispatch({type:'LOADING'});\r\n        await api.signUp(data);\r\n        dispatch({type:'LOADING_DONE'});\r\n        setisSignup(prev => !prev);\r\n        clear();\r\n    }catch(err){\r\n        console.log(err);\r\n        const errors = err.response?.data.errors;\r\n        dispatch({type:'ERROR', payload: errors});\r\n    }\r\n}\r\n\r\nexport const signIn = (data,history) => async (dispatch) => {\r\n    try{\r\n       dispatch({type:'LOADING'});\r\n       const result = await api.signIn(data);\r\n       dispatch({type:'LOGIN',payload: result});\r\n        history.push('/');\r\n    }catch(err){\r\n        console.log(err);\r\n        const errors = err.response?.data.errors;\r\n        dispatch({type:'ERROR', payload: errors});\r\n    }\r\n}\r\n\r\n// export const getUser = () => async (dispatch) => {\r\n//     try{\r\n//         dispatch({type:'LOADING'});\r\n//         const {data} = await api.getUser();\r\n//         dispatch({type:'INSERT_USER',payload: data.result});\r\n\r\n//     }catch(err){\r\n//         console.log('err', err);\r\n//         dispatch({type:'ERROR', payload: err});\r\n//     }\r\n// }\r\n\r\n\r\nexport const autoLogout = (history) => async(dispatch) => {\r\n    dispatch({type: 'LOGOUT'});\r\n    history.push('/login');\r\n}\r\n\r\n "]},"metadata":{},"sourceType":"module"}