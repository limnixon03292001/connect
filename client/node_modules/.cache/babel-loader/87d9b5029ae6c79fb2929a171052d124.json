{"ast":null,"code":"import _objectSpread from\"C:/Users/Lim/Desktop/Clone/login-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Lim/Desktop/Clone/login-mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import FileBase from'react-file-base64';import{useDispatch}from'react-redux';import{updateUserProfile}from'../../redux/actions/users';import CancelIcon from\"../.././svg/cancel2.svg\";import loadingCat from\"../.././svg/loadingCat.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditUserProfile=function EditUserProfile(_ref){var _userInfo$user,_userInfo$user2,_userInfo$user3,_userInfo$user4;var setModal=_ref.setModal,userInfo=_ref.userInfo;var _useState=useState({firstname:(_userInfo$user=userInfo.user)===null||_userInfo$user===void 0?void 0:_userInfo$user.firstname,lastname:(_userInfo$user2=userInfo.user)===null||_userInfo$user2===void 0?void 0:_userInfo$user2.lastname,imageUrl:(_userInfo$user3=userInfo.user)===null||_userInfo$user3===void 0?void 0:_userInfo$user3.imageUrl,coverPhoto:(_userInfo$user4=userInfo.user)===null||_userInfo$user4===void 0?void 0:_userInfo$user4.coverPhoto}),_useState2=_slicedToArray(_useState,2),updateData=_useState2[0],setUpdateData=_useState2[1];var dispatch=useDispatch();var handleUpdate=function handleUpdate(){var _userInfo$user5;dispatch(updateUserProfile((_userInfo$user5=userInfo.user)===null||_userInfo$user5===void 0?void 0:_userInfo$user5._id,updateData,setModal));};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-40 w-full h-full flex justify-center items-center bg-black bg-opacity-25 overflow-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-primary m-2 w-full md:w-2/4 h-auto shadow-md border border-borderColor rounded-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 flex justify-between items-center border-b border-borderColor tracking-wide font-light\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-1 text-lg\",children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"button\",{className:\"hover:bg-white hover:bg-opacity-10 active:bg-white active:bg-opacity-25 rounded-full  p-2 transition ease-in duration-75\",onClick:function onClick(){return setModal(function(prev){return!prev;});},children:/*#__PURE__*/_jsx(\"img\",{src:CancelIcon,alt:\"\",className:\"h-4 w-4\"})})]}),userInfo.userUpdateLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 w-full h-full flex flex-col items-center justify-center space-y-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:loadingCat,alt:\"\",className:\"w-14 h-14\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Updating...Meow!!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-light text-gray-400\",children:\"Full page reload after..\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 flex-1\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Firstname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Firstname\",value:updateData.firstname,className:\"w-full p-2 bg-secondary rounded-md outline-none\",onChange:function onChange(e){return setUpdateData(_objectSpread(_objectSpread({},updateData),{},{firstname:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 flex-1\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Lastname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Lastname\",value:updateData.lastname,className:\"w-full p-2 bg-secondary rounded-md outline-none\",onChange:function onChange(e){return setUpdateData(_objectSpread(_objectSpread({},updateData),{},{lastname:e.target.value}));}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center self-start\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs md:text-sm break-words \",children:\"Profile Picture:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs md:text-sm relative overflow-hidden\",children:/*#__PURE__*/_jsx(FileBase,{type:\"file\",multiple:false,onDone:function onDone(base64){setUpdateData(_objectSpread(_objectSpread({},updateData),{},{imageUrl:base64.base64}));}})})]}),updateData.imageUrl&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:updateData.imageUrl,alt:\"userProfileImg\",className:\"h-24 w-24 rounded-full bg-purple-400 object-cover object-center\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"bg-gray-600 bg-opacity-40 shadow-md hover:bg-gray-500 hover:bg-opacity-30  active:bg-white active:bg-opacity-25 rounded-full p-2 transition ease-in duration-75 absolute -top-2 -right-2\",children:[\"  \",/*#__PURE__*/_jsx(\"img\",{src:CancelIcon,alt:\"\",className:\"w-4 h-4 rounded-md \",onClick:function onClick(){return setUpdateData(_objectSpread(_objectSpread({},updateData),{},{imageUrl:''}));}}),\" \"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs md:text-sm \",children:\"Cover Photo:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs md:text-sm relative overflow-hidden\",children:/*#__PURE__*/_jsx(FileBase,{type:\"file\",multiple:false,onDone:function onDone(base64){setUpdateData(_objectSpread(_objectSpread({},updateData),{},{coverPhoto:base64.base64}));}})})]}),updateData.coverPhoto&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-40 overflow-auto relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:updateData.coverPhoto,alt:\"\",className:\"rounded-md bg-purple-400 object-cover object-center\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"bg-gray-600 bg-opacity-30 shadow-md hover:bg-gray-500 hover:bg-opacity-30  active:bg-white active:bg-opacity-25 rounded-full p-2 transition ease-in duration-75 absolute top-0 right-0 m-2\",children:[\"  \",/*#__PURE__*/_jsx(\"img\",{src:CancelIcon,alt:\"\",className:\"w-4 h-4 rounded-md \",onClick:function onClick(){return setUpdateData(_objectSpread(_objectSpread({},updateData),{},{coverPhoto:''}));}}),\" \"]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-button2 py-2 px-1 w-full text-center rounded-md text-sm md:text-lg\",onClick:handleUpdate,children:\"Save Changes\"})]})]})});};export default EditUserProfile;","map":{"version":3,"sources":["C:/Users/Lim/Desktop/Clone/login-mern/client/src/components/layout/EditUserProfile.js"],"names":["React","useState","FileBase","useDispatch","updateUserProfile","EditUserProfile","setModal","userInfo","firstname","user","lastname","imageUrl","coverPhoto","updateData","setUpdateData","dispatch","handleUpdate","_id","prev","CancelIcon","userUpdateLoading","loadingCat","e","target","value","base64"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport FileBase from 'react-file-base64';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateUserProfile } from '../../redux/actions/users';\r\n\r\nimport CancelIcon from '../.././svg/cancel2.svg';\r\nimport loadingCat from '../.././svg/loadingCat.svg';\r\nconst EditUserProfile = ({setModal, userInfo}) => {\r\n\r\n    const [updateData, setUpdateData] = useState({firstname: userInfo.user?.firstname, lastname: userInfo.user?.lastname,imageUrl: userInfo.user?.imageUrl, coverPhoto: userInfo.user?.coverPhoto});\r\n    const dispatch = useDispatch();\r\n  \r\n    const handleUpdate = () => {\r\n        dispatch(updateUserProfile(userInfo.user?._id, updateData, setModal));\r\n    }\r\n    return (\r\n        <div className=\"fixed inset-0 z-40 w-full h-full flex justify-center items-center bg-black bg-opacity-25 overflow-auto\" >\r\n            <div className=\"bg-primary m-2 w-full md:w-2/4 h-auto shadow-md border border-borderColor rounded-md\">\r\n                <div className=\"p-2 flex justify-between items-center border-b border-borderColor tracking-wide font-light\">\r\n                    <div className=\"p-1 text-lg\">Edit Profile</div>\r\n                   \r\n                    <button className=\"hover:bg-white hover:bg-opacity-10 active:bg-white active:bg-opacity-25 rounded-full  p-2 transition ease-in duration-75\" onClick={() => setModal(prev => !prev)}><img src={CancelIcon} alt=\"\" className=\"h-4 w-4\" /></button>\r\n                </div>\r\n                \r\n                {/* form */}\r\n                     {/* execute during update */}\r\n                     {userInfo.userUpdateLoading ?\r\n                        <div className=\"p-4 w-full h-full flex flex-col items-center justify-center space-y-2\">\r\n                            <img src={loadingCat} alt=\"\" className=\"w-14 h-14\" /> \r\n                            <p>Updating...Meow!!</p>\r\n                            <p className=\"text-sm font-light text-gray-400\">Full page reload after..</p>\r\n                        </div> \r\n                        : \r\n                        <div className=\"p-2 space-y-2\">\r\n                            <div className=\"flex gap-2\">\r\n                                <div className=\"space-y-2 flex-1\">\r\n                                    <label>Firstname</label>\r\n                                    <input type=\"text\" placeholder=\"Firstname\" value={updateData.firstname} className=\"w-full p-2 bg-secondary rounded-md outline-none\" onChange={(e) => setUpdateData({...updateData, firstname: e.target.value})} />\r\n                                </div>\r\n                                <div className=\"space-y-2 flex-1\">\r\n                                    <label>Lastname</label>\r\n                                    <input type=\"text\" placeholder=\"Lastname\" value={updateData.lastname} className=\"w-full p-2 bg-secondary rounded-md outline-none\" onChange={(e) => setUpdateData({...updateData, lastname: e.target.value})} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex flex-col items-center gap-3\">\r\n                                <div className=\"flex gap-2 items-center self-start\">\r\n                                    <p className=\"text-xs md:text-sm break-words \">Profile Picture:</p>\r\n                                    <div className=\"text-xs md:text-sm relative overflow-hidden\">\r\n                                        <FileBase \r\n                                        type=\"file\"\r\n                                        multiple={false}\r\n                                        onDone={(base64) => {\r\n                                            setUpdateData({...updateData, imageUrl: base64.base64});}}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                    {updateData.imageUrl && \r\n                                        <div className=\"relative\">\r\n                                            <img src={updateData.imageUrl} alt=\"userProfileImg\" className=\"h-24 w-24 rounded-full bg-purple-400 object-cover object-center\" />\r\n                                            <button className=\"bg-gray-600 bg-opacity-40 shadow-md hover:bg-gray-500 hover:bg-opacity-30  active:bg-white active:bg-opacity-25 rounded-full p-2 transition ease-in duration-75 absolute -top-2 -right-2\">  <img src={CancelIcon} alt=\"\" className=\"w-4 h-4 rounded-md \" onClick={() => setUpdateData({...updateData, imageUrl: ''})} /> </button>\r\n                                        </div> }\r\n                            </div>\r\n                            <div className=\"flex flex-col justify-center gap-3\">\r\n                                <div className=\"flex items-center gap-2\">\r\n                                <p className=\"text-xs md:text-sm \">Cover Photo:</p>\r\n                                    <div className=\"text-xs md:text-sm relative overflow-hidden\">\r\n                                        <FileBase \r\n                                        type=\"file\"\r\n                                        multiple={false}\r\n                                        onDone={(base64) => {\r\n                                            setUpdateData({...updateData, coverPhoto: base64.base64});}}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                {updateData.coverPhoto &&   \r\n                                    <div className=\"w-full h-40 overflow-auto relative\">\r\n                                        <img src={updateData.coverPhoto} alt=\"\" className=\"rounded-md bg-purple-400 object-cover object-center\"/>\r\n                                        <button className=\"bg-gray-600 bg-opacity-30 shadow-md hover:bg-gray-500 hover:bg-opacity-30  active:bg-white active:bg-opacity-25 rounded-full p-2 transition ease-in duration-75 absolute top-0 right-0 m-2\">  <img src={CancelIcon} alt=\"\" className=\"w-4 h-4 rounded-md \" onClick={() => setUpdateData({...updateData, coverPhoto: ''})} /> </button>\r\n                                    </div>}\r\n                            </div>\r\n                            <button className=\"bg-button2 py-2 px-1 w-full text-center rounded-md text-sm md:text-lg\" onClick={ handleUpdate}>Save Changes</button>\r\n                        </div>\r\n                        }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditUserProfile\r\n"]},"metadata":{},"sourceType":"module"}