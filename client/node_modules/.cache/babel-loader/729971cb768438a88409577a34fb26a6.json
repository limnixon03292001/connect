{"ast":null,"code":"import * as api from '../../api/users'; // const redirect = (err,history,dispatch) => {\n//     if(err.response?.status === 401){\n//         dispatch({type:'LOGOUT'});\n//         history.push('/login');\n//     }\n// }\n// export const allUser = (history) => async (dispatch) => {\n//     try{\n//         dispatch({type:'USERS_LOADING'});\n//         const {data} = await api.allUser();\n//         dispatch({type: 'USERS', payload: data});\n//     }catch(err){\n//         dispatch({type:'USERS_ERROR', payload: err});\n//         redirect(err,history,dispatch);\n//     }\n// }\n// export const getUserProfile  = (id,history) => async (dispatch) => {\n//     try {\n//         dispatch({type: 'USER_LOADING'});\n//         const {data} = await api.getUser(id);\n//         dispatch ({type: 'USER', payload: data});\n//     } catch (err) {\n//         dispatch({type: 'USERS_ERROR', payload: err});\n//         redirect(err,history,dispatch);\n//     }\n// }\n// export const searchUser = (name) => async (dispatch) => {\n//     try {\n//         dispatch({type: 'SEARCH_LOADING'});\n//         const {data} = await api.searchUser(name);\n//         dispatch({type: 'SEARCH_USER', payload: data});\n//     } catch (err) {\n//         dispatch({type: 'USERS_ERROR', payload: err});\n//     }\n// }\n//this function is for changename only\n\nexport const updateUserProfile = (id, updateData, setModal) => async dispatch => {\n  try {\n    dispatch({\n      type: 'UPDATE_LOADING'\n    });\n    const {\n      data\n    } = await api.updateUserProfile(id, updateData);\n    dispatch({\n      type: 'UPDATE_USER',\n      payload: data\n    });\n    setModal(false);\n    window.location.reload();\n  } catch (err) {\n    dispatch({\n      type: 'USERS_ERROR',\n      payload: err\n    });\n  }\n};\nexport const updateCoverPhoto = (id, updatedata, setModal) => async dispatch => {\n  try {\n    dispatch({\n      type: 'UPDATE_LOADING'\n    });\n    const {\n      data\n    } = await api.updateCoverPhoto(id, updatedata);\n    dispatch({\n      type: 'UPDATE_USER',\n      payload: data\n    });\n    setModal(false);\n    window.location.reload();\n  } catch (err) {\n    dispatch({\n      type: 'USERS_ERROR',\n      payload: err\n    });\n  }\n};\nexport const followUser = id => async dispatch => {\n  try {\n    dispatch({\n      type: 'USER_FOLLOWING_LOADING'\n    });\n    const {\n      data\n    } = await api.followUser(id);\n    dispatch({\n      type: 'FOLLOW_USER',\n      payload: data\n    });\n  } catch (err) {\n    dispatch({\n      type: 'USERS_ERROR',\n      payload: err\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/Lim/Desktop/Clone/login-mern/client/src/redux/actions/users.js"],"names":["api","updateUserProfile","id","updateData","setModal","dispatch","type","data","payload","window","location","reload","err","updateCoverPhoto","updatedata","followUser"],"mappings":"AAAA,OAAO,KAAKA,GAAZ,MAAqB,iBAArB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,iBAAiB,GAAG,CAACC,EAAD,EAAKC,UAAL,EAAiBC,QAAjB,KAA8B,MAAOC,QAAP,IAAoB;AAC/E,MAAI;AACAA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAR;AACA,UAAM;AAACC,MAAAA;AAAD,QAAS,MAAMP,GAAG,CAACC,iBAAJ,CAAsBC,EAAtB,EAA0BC,UAA1B,CAArB;AACAE,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAC,aAAN;AAAqBE,MAAAA,OAAO,EAAED;AAA9B,KAAD,CAAR;AACAH,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACAK,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAND,CAME,OAAOC,GAAP,EAAY;AACVP,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE,aAAP;AAAqBE,MAAAA,OAAO,EAAEI;AAA9B,KAAD,CAAR;AACH;AACJ,CAVM;AAYP,OAAO,MAAMC,gBAAgB,GAAG,CAACX,EAAD,EAAKY,UAAL,EAAgBV,QAAhB,KAA6B,MAAOC,QAAP,IAAoB;AAC7E,MAAI;AACAA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAR;AACA,UAAM;AAACC,MAAAA;AAAD,QAAS,MAAMP,GAAG,CAACa,gBAAJ,CAAqBX,EAArB,EAAwBY,UAAxB,CAArB;AACAT,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAC,aAAN;AAAqBE,MAAAA,OAAO,EAAED;AAA9B,KAAD,CAAR;AACAH,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACAK,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAND,CAME,OAAOC,GAAP,EAAY;AACVP,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE,aAAP;AAAqBE,MAAAA,OAAO,EAAEI;AAA9B,KAAD,CAAR;AACH;AACJ,CAVM;AAYP,OAAO,MAAMG,UAAU,GAAIb,EAAD,IAAQ,MAAOG,QAAP,IAAoB;AAClD,MAAI;AACAA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAR;AACA,UAAM;AAACC,MAAAA;AAAD,QAAS,MAAMP,GAAG,CAACe,UAAJ,CAAeb,EAAf,CAArB;AACAG,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE,aAAP;AAAsBE,MAAAA,OAAO,EAAED;AAA/B,KAAD,CAAR;AACH,GAJD,CAIE,OAAOK,GAAP,EAAY;AACVP,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE,aAAP;AAAqBE,MAAAA,OAAO,EAAEI;AAA9B,KAAD,CAAR;AACH;AACJ,CARM","sourcesContent":["import * as api from '../../api/users';\r\n\r\n// const redirect = (err,history,dispatch) => {\r\n//     if(err.response?.status === 401){\r\n//         dispatch({type:'LOGOUT'});\r\n//         history.push('/login');\r\n//     }\r\n// }\r\n\r\n// export const allUser = (history) => async (dispatch) => {\r\n//     try{\r\n//         dispatch({type:'USERS_LOADING'});\r\n//         const {data} = await api.allUser();\r\n//         dispatch({type: 'USERS', payload: data});\r\n//     }catch(err){\r\n//         dispatch({type:'USERS_ERROR', payload: err});\r\n//         redirect(err,history,dispatch);\r\n//     }\r\n// }\r\n\r\n// export const getUserProfile  = (id,history) => async (dispatch) => {\r\n//     try {\r\n//         dispatch({type: 'USER_LOADING'});\r\n//         const {data} = await api.getUser(id);\r\n//         dispatch ({type: 'USER', payload: data});\r\n//     } catch (err) {\r\n//         dispatch({type: 'USERS_ERROR', payload: err});\r\n//         redirect(err,history,dispatch);\r\n//     }\r\n// }\r\n\r\n// export const searchUser = (name) => async (dispatch) => {\r\n//     try {\r\n//         dispatch({type: 'SEARCH_LOADING'});\r\n//         const {data} = await api.searchUser(name);\r\n//         dispatch({type: 'SEARCH_USER', payload: data});\r\n//     } catch (err) {\r\n//         dispatch({type: 'USERS_ERROR', payload: err});\r\n//     }\r\n// }\r\n//this function is for changename only\r\nexport const updateUserProfile = (id, updateData, setModal) => async (dispatch) => {\r\n    try {\r\n        dispatch({type:'UPDATE_LOADING'});\r\n        const {data} = await api.updateUserProfile(id, updateData);\r\n        dispatch({type:'UPDATE_USER', payload: data});\r\n        setModal(false);\r\n        window.location.reload();\r\n    } catch (err) {\r\n        dispatch({type: 'USERS_ERROR',payload: err});\r\n    }\r\n}\r\n\r\nexport const updateCoverPhoto = (id, updatedata,setModal) => async (dispatch) => {\r\n    try {\r\n        dispatch({type:'UPDATE_LOADING'});\r\n        const {data} = await api.updateCoverPhoto(id,updatedata);\r\n        dispatch({type:'UPDATE_USER', payload: data});\r\n        setModal(false);\r\n        window.location.reload();\r\n    } catch (err) {\r\n        dispatch({type: 'USERS_ERROR',payload: err});\r\n    }\r\n}\r\n\r\nexport const followUser = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch({type:'USER_FOLLOWING_LOADING'});\r\n        const {data} = await api.followUser(id);\r\n        dispatch({type: 'FOLLOW_USER', payload: data});\r\n    } catch (err) {\r\n        dispatch({type: 'USERS_ERROR',payload: err});\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}